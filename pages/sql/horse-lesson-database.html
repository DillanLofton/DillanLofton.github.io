<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>SQL – Horse Lesson Database | Dillan Lofton</title>

<!-- Prism.js syntax highlighting -->
<link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism-tomorrow.min.css" rel="stylesheet" />
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-sql.min.js"></script>

<style>
  :root{--bg:#0f1720;--text:#e5e7eb;--muted:#9ca3af;--card:#0b1220;--card2:#0d1424;--border:#1f2937;--brand:#ff9900}
  *{box-sizing:border-box}
  body{margin:0;background:linear-gradient(180deg,var(--bg),#0a1220);color:var(--text);
       font-family:ui-sans-serif,system-ui,Segoe UI,Roboto;line-height:1.6}
  a{color:#ffb84d;text-decoration:none}
  header{position:sticky;top:0;background:rgba(17,24,39,.6);backdrop-filter:blur(8px);
         border-bottom:1px solid var(--border);padding:.8rem}
  .wrap{max-width:980px;margin:auto;padding:1rem}
  h1{margin:.2rem 0 .2rem}
  .note{color:var(--muted)}
  .grid{display:grid;grid-template-columns:1fr;gap:1rem}
  @media(min-width:960px){.grid{grid-template-columns:1fr 1fr}}
  .card{background:linear-gradient(180deg,var(--card),var(--card2));border:1px solid var(--border);
        border-radius:14px;padding:1.1rem}
  .card h3{margin:.2rem 0 .4rem}
  .btn{display:inline-flex;align-items:center;gap:.4rem;background:linear-gradient(180deg,var(--brand),#f59e0b);
       color:#111;font-weight:700;padding:.45rem .75rem;border-radius:.55rem}
  pre[class*="language-"]{background:#0a1120;border:1px solid var(--border);border-radius:10px;padding:.75rem}
  code[class*="language-"]{font-size:.92rem}
  table{width:100%;border-collapse:collapse;margin-top:.5rem}
  th,td{border-bottom:1px solid var(--border);padding:.4rem .35rem;text-align:left}
  details summary{cursor:pointer}
  footer{border-top:1px solid var(--border);color:#9ca3af;text-align:center;padding:1.2rem;margin-top:1.2rem}
</style>
</head>
<body>
<header><div class="wrap"><a href="index.html">← Back to SQL</a></div></header>

<main class="wrap">
  <h1>Horse Lesson Database (Horse • Student • LessonSchedule)</h1>
  <p class="note">Code blocks are loaded from <code>/assets/sql/horse-lesson/</code>. If one says “Could not load…”, add the file in that folder.</p>

  <div class="grid">

    <!-- 02-19 CREATE HORSE -->
    <section class="card">
      <h3>2.19 – Create <code>Horse</code> table</h3>
      <p class="note">Columns: ID, RegisteredName, Breed, Height, BirthDate. Verify with <code>SHOW COLUMNS FROM Horse;</code></p>

      <h4>initialize.sql</h4>
      <pre><code class="language-sql" id="h-0219-init">Loading…</code></pre>
      <p><a class="btn" href="/assets/sql/horse-lesson/02-19-create-horse/initialize.sql" download>Download initialize.sql</a></p>

      <h4>main.sql</h4>
      <pre><code class="language-sql" id="h-0219-main">Loading…</code></pre>
      <p><a class="btn" href="/assets/sql/horse-lesson/02-19-create-horse/main.sql" download>Download main.sql</a></p>

      <details open>
        <summary><strong>Simulated Output – SHOW COLUMNS FROM Horse</strong></summary>
        <table>
          <thead><tr><th>Field</th><th>Type</th><th>Null</th><th>Key</th><th>Default</th><th>Extra</th></tr></thead>
          <tbody>
            <tr><td>ID</td><td>smallint unsigned</td><td>NO</td><td>PRI</td><td>NULL</td><td>auto_increment</td></tr>
            <tr><td>RegisteredName</td><td>varchar(15)</td><td>NO</td><td></td><td>NULL</td><td></td></tr>
            <tr><td>Breed</td><td>varchar(20)</td><td>YES</td><td></td><td>NULL</td><td></td></tr>
            <tr><td>Height</td><td>decimal(3,1)</td><td>YES</td><td></td><td>NULL</td><td></td></tr>
            <tr><td>BirthDate</td><td>date</td><td>YES</td><td></td><td>NULL</td><td></td></tr>
          </tbody>
        </table>
      </details>
    </section>

    <!-- 02-20 CREATE STUDENT -->
    <section class="card">
      <h3>2.20 – Create <code>Student</code> table</h3>
      <p class="note">Auto-increment PK, NOT NULL columns, State default TX, Email UNIQUE.</p>

      <h4>initialize.sql</h4>
      <pre><code class="language-sql" id="h-0220-init">Loading…</code></pre>
      <p><a class="btn" href="/assets/sql/horse-lesson/02-20-create-student/initialize.sql" download>Download initialize.sql</a></p>

      <h4>main.sql</h4>
      <pre><code class="language-sql" id="h-0220-main">Loading…</code></pre>
      <p><a class="btn" href="/assets/sql/horse-lesson/02-20-create-student/main.sql" download>Download main.sql</a></p>
    </section>

    <!-- 02-21 CREATE LESSONS (FK) -->
    <section class="card">
      <h3>2.21 – Create <code>LessonSchedule</code> (FKs + composite PK)</h3>
      <p class="note">PK (HorseID, LessonDateTime). FK Horse ON DELETE CASCADE; FK Student ON DELETE SET NULL.</p>

      <h4>initialize.sql</h4>
      <pre><code class="language-sql" id="h-0221-init">Loading…</code></pre>
      <p><a class="btn" href="/assets/sql/horse-lesson/02-21-create-lessons-fk/initialize.sql" download>Download initialize.sql</a></p>

      <h4>main.sql</h4>
      <pre><code class="language-sql" id="h-0221-main">Loading…</code></pre>
      <p><a class="btn" href="/assets/sql/horse-lesson/02-21-create-lessons-fk/main.sql" download>Download main.sql</a></p>
    </section>

    <!-- (You can keep all the other lab sections here unchanged) -->
  </div>
</main>

<footer>© <span id="yr"></span> Dillan Lofton • SQL – Horse Lesson Database</footer>

<script>
  function loadSQL(codeId, url){
    const el = document.getElementById(codeId);
    fetch(url)
      .then(r => r.ok ? r.text() : Promise.reject(r.status))
      .then(txt => { el.textContent = txt; Prism.highlightElement(el); })
      .catch(() => { el.textContent = 'Could not load: ' + url; });
  }

  // Now all use ROOT-relative paths
  const files = {
    'h-0219-init': '/assets/sql/horse-lesson/02-19-create-horse/initialize.sql',
    'h-0219-main': '/assets/sql/horse-lesson/02-19-create-horse/main.sql',

    'h-0220-init': '/assets/sql/horse-lesson/02-20-create-student/initialize.sql',
    'h-0220-main': '/assets/sql/horse-lesson/02-20-create-student/main.sql',

    'h-0221-init': '/assets/sql/horse-lesson/02-21-create-lessons-fk/initialize.sql',
    'h-0221-main': '/assets/sql/horse-lesson/02-21-create-lessons-fk/main.sql',
  };

  Object.entries(files).forEach(([id, path]) => loadSQL(id, path));
  document.getElementById('yr').textContent = new Date().getFullYear();
</script>
</body>
</html>
